service: invoiceinfo-mailer

provider:
  name: aws
  iam:
    role:
      statements:
        - Effect: 'Allow'
          Action:
            - 's3:GetObject'
          Resource: 'arn:aws:s3:::interest-mailer-authfile/*'
  runtime: nodejs14.x
  stage: prod
  region: eu-north-1

functions:
  invoice-mailer:
    handler: lambda/dist/lambda/src/handler.handler
    package:
      excludeDevDependencies: true
    events:
      - http:
          path: sendMail
          method: POST
          cors: true

plugins:
  - serverless-plugin-optimize
  - serverless-s3-sync
